<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pension Funding with lifecontingencies • lifecontingencies</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Pension Funding with lifecontingencies">
<meta property="og:description" content="lifecontingencies">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lifecontingencies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/PensionPlanVal.html">Pensions valuation with lifecontingencies package</a>
    </li>
    <li>
      <a href="../articles/compute-detail.html">Computational details of demographic functions</a>
    </li>
    <li>
      <a href="../articles/pensionfunding.html">Pension Funding with lifecontingencies</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/spedygiorgio/lifecontingencies/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Pension Funding with lifecontingencies</h1>
                        <h4 data-toc-skip class="author">Gian Paolo
Clemente</h4>
            <address class="author_afil">
      Catholic University of Milan<br><h4 data-toc-skip class="date">25 February, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/spedygiorgio/lifecontingencies/blob/HEAD/vignettes/pensionfunding.Rmd" class="external-link"><code>vignettes/pensionfunding.Rmd</code></a></small>
      <div class="hidden name"><code>pensionfunding.Rmd</code></div>

    </address>
</div>

    
    
<div class="section level2">
<h2 id="introduction-and-some-general-settings">Introduction and some general settings<a class="anchor" aria-label="anchor" href="#introduction-and-some-general-settings"></a>
</h2>
This report focuses on several funding and actuarial costing methods in
occupational pension funds where the benefits are defined. As
well-known, a defined benefit (DB) pension plan is a type of pension
plan in which an employer/sponsor promises a specified pension payment,
lump-sum (or combination thereof) on retirement that is predetermined by
a formula based on the employee’s history (earnings, tenure of service
and age, etc.) rather than depending directly on individual investment
returns. The first consideration is what constitutes the “retirement
provision”. We could argue that provisions regard any savings or
investments made by an individual for later life. For the sake of
brevity, we only focus here on the actuarial involvement in the
provision of retirement benefits by employers, groups of employers and
professions for their members (i.e the so called “second pillar” of
retirement provisions). This provision is usually designed to supplement
and in some cases replace (“contracted out” pension schemes in the
United Kingdom) the compulsory state pension arrangements. The main
benefits are usually at least both a pension payable for life from the
attainment of a specified retirement age and a pension payable to the
widow/er on the death of the employee/member, according to the death of
either the active member or the retired member. These core benefits are
found in almost every pension funds, albeit in differing forms. Also
additional benefits are usually provided in variable frameworks
(e.g. disability for instance).<br>
In the next, we focus on a specific defined benefit pension fund by
considering only the retirement benefit for the sake of simplicity. We
present some well-known funding methods and we show how to evaluate both
premium rate and technical reserve via life contingencies package
dedicated functions. To this aim we follow a cohort approach by
considering a group of people who share the same characteristic in terms
of age of affiliation <span class="math inline">\(\alpha\)</span> with
the pension plan, sex, age of retirement <span class="math inline">\(\beta\)</span> and initial salary (<span class="math inline">\(s_\alpha\)</span>). We consider a DB scheme where
the pension on retirement is fixed in advance as a proportion of the
member’s salary in their last year of service. So the level of the
pension at the time of benefit entitlement is based on a
proportional-earnings related formula and benefit is expressed as a
pension annuity <span class="math inline">\(b_{x}\)</span>, starting at
age <span class="math inline">\(\beta\)</span>, increasing annualy at
the revaualion rate <span class="math inline">\(\delta\)</span> and
payable until death: <span class="math display">\[\begin{equation}
b_{x}=(1+\delta)^{x-\beta}\left(\frac{\beta-\alpha}{t}\right)s_{\beta}
\end{equation}\]</span> In particular, we are assuming that:
<p>In other words, the pension plan guarantees a replacement ratio equal
to: <span class="math display">\[\begin{equation}
RR_{\beta}=\frac{s_{\beta}}{b_{\beta}}=\left(\frac{\beta-\alpha}{t}\right)
\end{equation}\]</span></p>
Furthermore, we assume that annual earnings are increasing at a yearly
flat rate <span class="math inline">\(i\)</span>: <span class="math display">\[\begin{equation}
s_{x}=s_{x-1}(1+j)
\end{equation}\]</span> This evolution of earnings, desibed by the rate
<span class="math inline">\(j\)</span>, is usually considered to include
two components:
</div>
<div class="section level2">
<h2 id="contribution-rate-and-technical-reserves">Contribution rate and technical reserves<a class="anchor" aria-label="anchor" href="#contribution-rate-and-technical-reserves"></a>
</h2>
<p>Our first aim is to quantify the level of contribution to be set at a
level to produce the targeted pension on retirement. In this framework,
two general approaches can be pursued. On one hand, the accrued benefits
cost method defines the annual normal cost on the basis of portion of
pension benefit matured at the valuation date. Accrued Benefits Funding
Methods are indeed a major category of funding methods in which the
Actuarial Liability for active members is based on pensionable service
accrued up to the valuation date or to the end of the Control Period,
asappropriate. Differences between the various Accrued Benefits Funding
Methods arise from the treatment of decrements in membership and
increases in pensionable pay when calculating the Actuarial Liabilities
for active members. This affects the value placed not only on the
Actuarial Liability but also on the Standard Contribution Rate. Main
examples treated in the next are Current Unit Method and Projected Unit
Method. \ On the other hand the Projected Benefit Cost Methods, that
include several methods (as Individual Entry-Age Method for instance),
quantifies a normal cost that represents an amount that will provide for
the estimated projected retirement benefits over the service lives of
either the individual employees or the employee group. Pension costs
computed under this approach tend to be stable or decline year by year,
depending on the method selected.</p>
<p>We begin by the Current Unit Method (CUM). The Actuarial Liability
for active members is calculated taking into account all types of
decrement (in our case only retirement). In calculating the Actuarial
Liability as at the valuation date pensionable pay is not projected. It
is now possible to define the following mathematical reserve V_{x} at
age <span class="math inline">\(x\)</span> (<span class="math inline">\(\alpha \leq x &lt;\beta\)</span>): <span class="math display">\[\begin{equation}
V_{x}={}_{\beta-x}E^{p^{ap},i^{ap}}_{x}\left(\frac{x-\alpha}{t}s_{x-1}\right)\ddot{a}^{p^{pp},u}_{\beta}
\end{equation}\]</span> where <span class="math inline">\(p^{ap}\)</span> and <span class="math inline">\(p^{pp}\)</span> are the survival probabilities in
accumulation and payment periods respectively, <span class="math inline">\(i^{ap}\)</span> is the technical financial rate in
the accumulation period, <span class="math inline">\(u=\frac{1+i^{pp}}{1+\delta}-1\)</span> is a
syntethic index function of the technical financial rate <span class="math inline">\(i^{pp}\)</span> in the payment period and the
indexation of the pension amount. Notice that <span class="math inline">\(p^{pp}\)</span> and <span class="math inline">\(j^{pp}\)</span> may depend on premium rate
requested by the insurer when an agreement is made between pension plan
and insurer for the payments of annuity amounts. <span class="math inline">\({}_{\beta-x}E^{p^{ap},i^{ap}}_{x}=\frac{{}_{\beta-x}p^{ap}_{x}}{(1+i)^{\beta-x}}\)</span>
is the actuarial present value of a life-contingent <span class="math inline">\(\beta-x\)</span>-year future payment of 1. While
<span class="math inline">\(\ddot{a}^{p^{pp},u}_{\beta}\)</span> is the
expected present value for the life-annuity due of infinite-duration. By
applying Fouret’s formula, it is easily derive the contribution rate
<span class="math inline">\(\gamma_{x}\)</span> as: <span class="math display">\[\begin{equation}
\gamma_{x}={}_{\beta-x}E^{p^{ap},i^{ap}}_{x}\frac{1}{t}\left(1+\frac{j}{1+j}(x-\alpha)\right)\ddot{a}^{p^{pp},u}_{\beta}
\end{equation}\]</span> In such calculations, allowance is made for
increases in the benefits between the relevant date and the assumed date
of retirement because of the future increases in salaries. Finally</p>
<p>The Projected Unit Method is based on a similar structure of CUM, but
the pensionable pay is projected from the relevant date up to the
assumed date of retirement. This method is also known as the Projected
Unit Credit Method. We have then the following relations for the
mathematical reserve and the contribution rate respectively: <span class="math display">\[\begin{equation}
V_{x}={}_{\beta-x}E^{p^{ap},i^{ap}}_{x}\left(\frac{x-\alpha}{t}s_{\beta-1}\right)\ddot{a}^{p^{pp},u}_{\beta}
\end{equation}\]</span> <span class="math display">\[\begin{equation}
\gamma_{x}={}_{\beta-x}E^{p^{ap},i^{ap}}_{x}\frac{1}{t}(1+j)^{\beta-x-1}\ddot{a}^{p^{pp},u}_{\beta}
\end{equation}\]</span> In this case, the normal cost depends yearly on
a portion <span class="math inline">\(\frac{1}{t}\)</span> of the
expected earning at the last year of service before than retirement.</p>
<p>Finally, we consider Individual Entry-Age Method. This method assumes
that every employee entered the plan (thus, entry age) at the time of
employment and that contributions have been made on this basis from the
entry age to the date of valuation. The contributions are the level
annual amounts which, if accumulated at the rate of interest used in the
actuarial valuation, would result in a fund equal to the present value
of the pension benefits at retirement for employees that survive at that
time. In this case the contribution rate is equal to the ratio of
expected present value of future benefits to expected present value of
future earnings: <span class="math display">\[\begin{equation}
\gamma_{x}=\frac{{}_{\beta-\alpha}E^{p^{ap},i^{ap}}_{\alpha}\left(\frac{\beta-\alpha}{t}s_{\beta-1}\right)\ddot{a}^{p^{pp},u}_{\beta}}{s_{\alpha}{}_{\beta-\alpha}\ddot{a}^{p^{pp},r}_{\alpha}}
\end{equation}\]</span> where <span class="math inline">\(u=\frac{1+i^{pp}}{1+j}-1\)</span> is a syntethic
index function of the technical financial rate <span class="math inline">\(i^{pp}\)</span> in the payment period and the
annual salary increase <span class="math inline">\(j\)</span>. In this
case, <span class="math inline">\(\gamma_{x}\)</span> is constant over
time.</p>
<p>Mathematical reserve can be derived in a perspective view as: <span class="math display">\[\begin{equation}
V_{x}={}_{\beta-x}E^{p^{ap},i^{ap}}_{x}\left(\frac{\beta-\alpha}{t}s_{\beta-1}\right)\ddot{a}^{p^{pp},u}_{\beta}-\gamma_{x}s_{x}{}_{\beta-x}\ddot{a}^{p^{pp},r}_{x}
\end{equation}\]</span></p>
</div>
<div class="section level2">
<h2 id="functions-definitions">Functions definitions<a class="anchor" aria-label="anchor" href="#functions-definitions"></a>
</h2>
<p>The CUM contribution rate is defined by following function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CUM</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span> <span class="op">=</span> <span class="va">actuarialtable</span><span class="op">@</span><span class="va">interest</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span> <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="va">payment</span> <span class="op">=</span> <span class="st">"advance"</span>, <span class="va">acttablePaymPeriod</span>, <span class="va">i2</span>, <span class="va">delta</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need an actuarial actuarialtable"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">acttablePaymPeriod</span> <span class="op">=</span> <span class="va">acttableAccPeriod</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">i2</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">i2</span> <span class="op">=</span> <span class="va">i</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Retirement age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need t"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need average salary increase rate"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">beta</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">t</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Negative parameters"</span><span class="op">)</span></span>
<span>    <span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span></span>
<span>        <span class="va">h</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">t</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">h</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="va">j</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>, <span class="va">beta</span>,</span>
<span>        i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The mathematical reserve is instead equal to:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CUMmr</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span> <span class="op">=</span> <span class="va">actuarialtable</span><span class="op">@</span><span class="va">interest</span>, <span class="va">j</span>, <span class="va">t</span>,</span>
<span>    <span class="va">k</span> <span class="op">=</span> <span class="fl">1</span>, <span class="va">payment</span> <span class="op">=</span> <span class="st">"advance"</span>, <span class="va">acttablePaymPeriod</span>, <span class="va">i2</span>, <span class="va">delta</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need an actuarial actuarialtable"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">acttablePaymPeriod</span> <span class="op">=</span> <span class="va">acttableAccPeriod</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">i2</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">i2</span> <span class="op">=</span> <span class="va">i</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Retirement age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need t"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need average salary increase rate"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">beta</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">t</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Negative parameters"</span><span class="op">)</span></span>
<span>    <span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span></span>
<span>        <span class="va">h</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>, <span class="va">beta</span>,</span>
<span>        i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">beta</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="op">(</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span></span>
<span>        <span class="va">beta</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>, <span class="va">h</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The PUM contribution rate is defined by the following function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Projected Unit Method</span></span>
<span><span class="va">PUM</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span> <span class="op">=</span> <span class="va">actuarialtable</span><span class="op">@</span><span class="va">interest</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span> <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="va">payment</span> <span class="op">=</span> <span class="st">"advance"</span>, <span class="va">acttablePaymPeriod</span>, <span class="va">i2</span>, <span class="va">delta</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need an actuarial actuarialtable"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">acttablePaymPeriod</span> <span class="op">=</span> <span class="va">acttableAccPeriod</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">i2</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">i2</span> <span class="op">=</span> <span class="va">i</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Retirement age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need t"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need average salary increase rate"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">beta</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">t</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Negative parameters"</span><span class="op">)</span></span>
<span>    <span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span></span>
<span>        <span class="va">h</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>, <span class="va">beta</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span></span>
<span>        <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">h</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>while the mathematical reserve is</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PUMmr</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span> <span class="op">=</span> <span class="va">actuarialtable</span><span class="op">@</span><span class="va">interest</span>, <span class="va">j</span>, <span class="va">t</span>,</span>
<span>    <span class="va">k</span> <span class="op">=</span> <span class="fl">1</span>, <span class="va">payment</span> <span class="op">=</span> <span class="st">"advance"</span>, <span class="va">acttablePaymPeriod</span>, <span class="va">i2</span>, <span class="va">delta</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need an actuarial actuarialtable"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">acttablePaymPeriod</span> <span class="op">=</span> <span class="va">acttableAccPeriod</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">i2</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">i2</span> <span class="op">=</span> <span class="va">i</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Retirement age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need t"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need average salary increase rate"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">beta</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">t</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Negative parameters"</span><span class="op">)</span></span>
<span>    <span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span></span>
<span>        <span class="va">h</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>        <span class="va">beta</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">beta</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="op">(</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span></span>
<span>        <span class="va">beta</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>, <span class="va">h</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The IEAM is defined as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Individual Entry-Age Unit Method Type: 0 constant contribution rate, 1 #</span></span>
<span><span class="co"># Constant Contribution amount (Default is 0)</span></span>
<span><span class="va">IEAM</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span> <span class="op">=</span> <span class="va">actuarialtable</span><span class="op">@</span><span class="va">interest</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span> <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="va">payment</span> <span class="op">=</span> <span class="st">"advance"</span>, <span class="va">acttablePaymPeriod</span>, <span class="va">i2</span>, <span class="va">delta</span> <span class="op">=</span> <span class="fl">0</span>, <span class="va">type</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need an actuarial actuarialtable"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">acttablePaymPeriod</span> <span class="op">=</span> <span class="va">acttableAccPeriod</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">i2</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">i2</span> <span class="op">=</span> <span class="va">i</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Retirement age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need t"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need average salary increase rate"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">beta</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">t</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Negative parameters"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">x</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">beta</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">x</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span>, payment <span class="op">=</span> <span class="st">"advance"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="op">(</span><span class="op">(</span><span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">x</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">beta</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">x</span>, <span class="va">i</span>, k <span class="op">=</span> <span class="fl">1</span>, payment <span class="op">=</span> <span class="st">"advance"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span></span>
<span>            <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>while the reserve is:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">IEAMmr</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span> <span class="op">=</span> <span class="va">actuarialtable</span><span class="op">@</span><span class="va">interest</span>, <span class="va">j</span>, <span class="va">t</span>,</span>
<span>    <span class="va">k</span> <span class="op">=</span> <span class="fl">1</span>, <span class="va">payment</span> <span class="op">=</span> <span class="st">"advance"</span>, <span class="va">acttablePaymPeriod</span>, <span class="va">i2</span>, <span class="va">delta</span> <span class="op">=</span> <span class="fl">0</span>, <span class="va">type</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need an actuarial actuarialtable"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">acttablePaymPeriod</span> <span class="op">=</span> <span class="va">acttableAccPeriod</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">i2</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">i2</span> <span class="op">=</span> <span class="va">i</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Retirement age!"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need t"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">j</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Need average salary increase rate"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">beta</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="va">t</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error! Negative parameters"</span><span class="op">)</span></span>
<span>    <span class="va">al</span> <span class="op">=</span> <span class="fu">IEAM</span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, k <span class="op">=</span> <span class="fl">1</span>, <span class="va">payment</span>, <span class="va">acttablePaymPeriod</span>,</span>
<span>        <span class="va">i2</span>, <span class="va">delta</span>, <span class="va">type</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span></span>
<span>            <span class="va">h</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">beta</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">-</span> <span class="va">al</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>,</span>
<span>            <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">h</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">beta</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span> <span class="op">+</span></span>
<span>            <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="op">(</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span></span>
<span>            <span class="va">beta</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>, <span class="va">h</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="fu"><a href="../reference/pureendowment.html">Exn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>,</span>
<span>            <span class="va">beta</span> <span class="op">-</span> <span class="va">h</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">beta</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">-</span> <span class="va">al</span><span class="op">[</span><span class="va">h</span> <span class="op">-</span> <span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span></span>
<span>            <span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttableAccPeriod</span>, <span class="va">h</span>, <span class="va">beta</span> <span class="op">-</span> <span class="va">h</span>, <span class="va">i</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">beta</span>,</span>
<span>            <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">h</span><span class="op">)</span> <span class="op">(</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="va">t</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span></span>
<span>            <span class="va">j</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">beta</span> <span class="op">-</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="va">h</span> <span class="op">-</span> <span class="va">beta</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/axn.html">axn</a></span><span class="op">(</span><span class="va">acttablePaymPeriod</span>,</span>
<span>            <span class="va">h</span>, i <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">i2</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">delta</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="an-applied-example">An applied example<a class="anchor" aria-label="anchor" href="#an-applied-example"></a>
</h2>
<p>We consider a pension fund based on a single cohort of age <span class="math inline">\(x=25\)</span>. Furthermore, we assume that the DB
pension fund has based the quantification of the contribution rate on
the following assumptions:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Current Unit Method</span></span>
<span><span class="va">beta</span><span class="op">=</span><span class="fl">65</span> <span class="co"># Beta Retirement age</span></span>
<span><span class="va">x</span><span class="op">=</span><span class="fl">25</span> <span class="co">#x Age of the insured.</span></span>
<span><span class="va">i</span><span class="op">=</span><span class="fl">0.08</span> <span class="co"># Interest Rate</span></span>
<span><span class="va">t</span><span class="op">=</span><span class="fl">60</span> <span class="co">#1/t is the % of the salary, recognized as retirement pension, for each year of service</span></span>
<span><span class="va">j</span><span class="op">=</span><span class="fl">0.06</span> <span class="co">#  average salary increases (for both growth in wages and promotional salary for seniority)</span></span>
<span><span class="va">delta</span><span class="op">=</span><span class="fl">0.03</span> <span class="co">#Increase of retirement pension</span></span></code></pre></div>
<p>Therefore, the following Figure shows the pattern of the contribution
rates according to the three methods. As expected, Current Unit Method,
being based on the current salary, shows a very increasing tendency over
time. Differences with respect to PUM depends on the value of <span class="math inline">\(j\)</span>. It is indeed easy to prove that both
methods lead to the same rates when <span class="math inline">\(j=0\)</span>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CUM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.005822138 0.006650426 0.007574599 0.008604814 0.009752572 0.011030349</span></span>
<span><span class="co">#&gt;  [7] 0.012451659 0.014031470 0.015785917 0.017732613 0.019892423 0.022287570</span></span>
<span><span class="co">#&gt; [13] 0.024944411 0.027891562 0.031161684 0.034789025 0.038809741 0.043261288</span></span>
<span><span class="co">#&gt; [19] 0.048190217 0.053654252 0.059720601 0.066460108 0.073948311 0.082275637</span></span>
<span><span class="co">#&gt; [25] 0.091541182 0.101843507 0.113305658 0.126075296 0.140313448 0.156231670</span></span>
<span><span class="co">#&gt; [31] 0.174053818 0.194038950 0.216455210 0.241663403 0.270040950 0.301944371</span></span>
<span><span class="co">#&gt; [37] 0.337753233 0.378197856 0.424173906 0.477146484</span></span>
<span><span class="fu">PUM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.05649516 0.05761827 0.05876254 0.05992897 0.06112051 0.06233840</span></span>
<span><span class="co">#&gt;  [7] 0.06358260 0.06485374 0.06615106 0.06747371 0.06882648 0.07021087</span></span>
<span><span class="co">#&gt; [13] 0.07163372 0.07309933 0.07461391 0.07617857 0.07779114 0.07944581</span></span>
<span><span class="co">#&gt; [19] 0.08114731 0.08290956 0.08474870 0.08667313 0.08868637 0.09079901</span></span>
<span><span class="co">#&gt; [25] 0.09301872 0.09534136 0.09777603 0.10033939 0.10304315 0.10591941</span></span>
<span><span class="co">#&gt; [31] 0.10898737 0.11226874 0.11577071 0.11953040 0.12356718 0.12787015</span></span>
<span><span class="co">#&gt; [37] 0.13242412 0.13732918 0.14269515 0.14875743</span></span>
<span><span class="fu">IEAM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span>, type <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.08319755</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">CUM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span>, xlab <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    ylab <span class="op">=</span> <span class="st">"Contribution rate"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">PUM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"p"</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu">IEAM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span>, <span class="va">beta</span> <span class="op">-</span></span>
<span>    <span class="va">x</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"p"</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">beta</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">IEAM</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span>, type <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"p"</span>, col <span class="op">=</span> <span class="st">"green"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CUM"</span>, <span class="st">"PUM"</span>, <span class="st">"IEAM (constant rate)"</span>, <span class="st">"IEAM (constant premium)"</span><span class="op">)</span>,</span>
<span>    col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span><span class="op">)</span>, pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<p><img src="pensionfunding_files/figure-html/calcandshow-1.png" width="700">
According to the mathematical reserve, we observe in the following
figure the different behaviour in the accumulation period.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CUMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  0.000000000  0.006294153  0.014425118  0.024794687  0.037884301</span></span>
<span><span class="co">#&gt;  [6]  0.054268732  0.074632040  0.099788513  0.130703134  0.168518676</span></span>
<span><span class="co">#&gt; [11]  0.214604216  0.270577376  0.338380158  0.420314741  0.519131606</span></span>
<span><span class="co">#&gt; [16]  0.638065743  0.780913988  0.952104764  1.156972896  1.401995135</span></span>
<span><span class="co">#&gt; [21]  1.694973952  2.045104602  2.463218975  2.962403170  3.558184907</span></span>
<span><span class="co">#&gt; [26]  4.268546553  5.115359373  6.125158439  7.329443344  8.767567809</span></span>
<span><span class="co">#&gt; [31] 10.486117818 12.541502867 14.999937417 17.945055126 21.475647617</span></span>
<span><span class="co">#&gt; [36] 25.704738153 30.765026526 36.843761121 44.177787148 53.108760175</span></span>
<span><span class="co">#&gt; [41] 64.013001539 63.950042392 63.786308425 63.458208104 63.010871760</span></span>
<span><span class="co">#&gt; [46] 62.470417921 61.892955313 61.234081591 60.541207872 59.775674960</span></span>
<span><span class="co">#&gt; [51] 58.978980578 58.068490145 57.190779730 56.267230926 55.281780098</span></span>
<span><span class="co">#&gt; [56] 54.237763837 53.161703025 52.103448744 51.030105894 49.948433457</span></span>
<span><span class="co">#&gt; [61] 48.860816588 47.771875163 46.694105327 45.623247698 44.574315474</span></span>
<span><span class="co">#&gt; [66] 43.540573624 42.529253726 41.546222447 40.588424897 39.630039904</span></span>
<span><span class="co">#&gt; [71] 38.672686843 37.759069201 36.916230493 36.183917639 35.402016497</span></span>
<span><span class="co">#&gt; [76] 34.928684057 34.246062791 33.473705370 33.371432327 32.030006954</span></span>
<span><span class="co">#&gt; [81] 31.164732706 21.735202923  0.000000000</span></span>
<span><span class="fu">PUMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  0.00000000  0.06107536  0.13205117  0.21412908  0.30865295  0.41711418</span></span>
<span><span class="co">#&gt;  [7]  0.54115881  0.68261229  0.84347787  1.02595866  1.23257742  1.46609318</span></span>
<span><span class="co">#&gt; [13]  1.72969335  2.02690308  2.36172848  2.73849568  3.16186970  3.63680185</span></span>
<span><span class="co">#&gt; [19]  4.16919512  4.76617163  5.43601108  6.18766746  7.03086236  7.97707864</span></span>
<span><span class="co">#&gt; [25]  9.03904102 10.22982022 11.56533624 13.06452353 14.74828004 16.64346133</span></span>
<span><span class="co">#&gt; [31] 18.77903994 21.18860521 23.90762137 26.98272789 30.46361659 34.39873806</span></span>
<span><span class="co">#&gt; [37] 38.84013716 43.88150900 49.63816164 56.29528579 64.01300154 63.95004239</span></span>
<span><span class="co">#&gt; [43] 63.78630843 63.45820810 63.01087176 62.47041792 61.89295531 61.23408159</span></span>
<span><span class="co">#&gt; [49] 60.54120787 59.77567496 58.97898058 58.06849015 57.19077973 56.26723093</span></span>
<span><span class="co">#&gt; [55] 55.28178010 54.23776384 53.16170302 52.10344874 51.03010589 49.94843346</span></span>
<span><span class="co">#&gt; [61] 48.86081659 47.77187516 46.69410533 45.62324770 44.57431547 43.54057362</span></span>
<span><span class="co">#&gt; [67] 42.52925373 41.54622245 40.58842490 39.63003990 38.67268684 37.75906920</span></span>
<span><span class="co">#&gt; [73] 36.91623049 36.18391764 35.40201650 34.92868406 34.24606279 33.47370537</span></span>
<span><span class="co">#&gt; [79] 33.37143233 32.03000695 31.16473271 21.73520292  0.00000000</span></span>
<span><span class="fu">IEAMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span>, type <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 4.440892e-16 8.994257e-02 1.925698e-01 3.092323e-01 4.414268e-01</span></span>
<span><span class="co">#&gt;  [6] 5.907917e-01 7.591110e-01 9.483436e-01 1.160610e+00 1.398215e+00</span></span>
<span><span class="co">#&gt; [11] 1.663804e+00 1.960217e+00 2.290740e+00 2.658950e+00 3.068884e+00</span></span>
<span><span class="co">#&gt; [16] 3.524802e+00 4.031206e+00 4.592767e+00 5.215158e+00 5.905308e+00</span></span>
<span><span class="co">#&gt; [21] 6.671225e+00 7.521333e+00 8.464569e+00 9.511545e+00 1.067381e+01</span></span>
<span><span class="co">#&gt; [26] 1.196274e+01 1.339248e+01 1.497992e+01 1.674333e+01 1.870671e+01</span></span>
<span><span class="co">#&gt; [31] 2.089515e+01 2.333748e+01 2.606302e+01 2.911159e+01 3.252407e+01</span></span>
<span><span class="co">#&gt; [36] 3.633779e+01 4.059181e+01 4.536618e+01 5.075851e+01 5.693145e+01</span></span>
<span><span class="co">#&gt; [41] 6.401300e+01 6.395004e+01 6.378631e+01 6.345821e+01 6.301087e+01</span></span>
<span><span class="co">#&gt; [46] 6.247042e+01 6.189296e+01 6.123408e+01 6.054121e+01 5.977567e+01</span></span>
<span><span class="co">#&gt; [51] 5.897898e+01 5.806849e+01 5.719078e+01 5.626723e+01 5.528178e+01</span></span>
<span><span class="co">#&gt; [56] 5.423776e+01 5.316170e+01 5.210345e+01 5.103011e+01 4.994843e+01</span></span>
<span><span class="co">#&gt; [61] 4.886082e+01 4.777188e+01 4.669411e+01 4.562325e+01 4.457432e+01</span></span>
<span><span class="co">#&gt; [66] 4.354057e+01 4.252925e+01 4.154622e+01 4.058842e+01 3.963004e+01</span></span>
<span><span class="co">#&gt; [71] 3.867269e+01 3.775907e+01 3.691623e+01 3.618392e+01 3.540202e+01</span></span>
<span><span class="co">#&gt; [76] 3.492868e+01 3.424606e+01 3.347371e+01 3.337143e+01 3.203001e+01</span></span>
<span><span class="co">#&gt; [81] 3.116473e+01 2.173520e+01 0.000000e+00</span></span>
<span><span class="fu">IEAMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span>, type <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 4.440892e-16 1.936447e-01 4.029806e-01 6.292776e-01 8.739418e-01</span></span>
<span><span class="co">#&gt;  [6] 1.138491e+00 1.424546e+00 1.733873e+00 2.068339e+00 2.429942e+00</span></span>
<span><span class="co">#&gt; [11] 2.821056e+00 3.244157e+00 3.702213e+00 4.198391e+00 4.736307e+00</span></span>
<span><span class="co">#&gt; [16] 5.319617e+00 5.952047e+00 6.637279e+00 7.380133e+00 8.186823e+00</span></span>
<span><span class="co">#&gt; [21] 9.064614e+00 1.002086e+01 1.106312e+01 1.220065e+01 1.344336e+01</span></span>
<span><span class="co">#&gt; [26] 1.480039e+01 1.628376e+01 1.790815e+01 1.968913e+01 2.164821e+01</span></span>
<span><span class="co">#&gt; [31] 2.380714e+01 2.619094e+01 2.882417e+01 3.174190e+01 3.497900e+01</span></span>
<span><span class="co">#&gt; [36] 3.856538e+01 4.253181e+01 4.695055e+01 5.190948e+01 5.755963e+01</span></span>
<span><span class="co">#&gt; [41] 6.401300e+01 6.395004e+01 6.378631e+01 6.345821e+01 6.301087e+01</span></span>
<span><span class="co">#&gt; [46] 6.247042e+01 6.189296e+01 6.123408e+01 6.054121e+01 5.977567e+01</span></span>
<span><span class="co">#&gt; [51] 5.897898e+01 5.806849e+01 5.719078e+01 5.626723e+01 5.528178e+01</span></span>
<span><span class="co">#&gt; [56] 5.423776e+01 5.316170e+01 5.210345e+01 5.103011e+01 4.994843e+01</span></span>
<span><span class="co">#&gt; [61] 4.886082e+01 4.777188e+01 4.669411e+01 4.562325e+01 4.457432e+01</span></span>
<span><span class="co">#&gt; [66] 4.354057e+01 4.252925e+01 4.154622e+01 4.058842e+01 3.963004e+01</span></span>
<span><span class="co">#&gt; [71] 3.867269e+01 3.775907e+01 3.691623e+01 3.618392e+01 3.540202e+01</span></span>
<span><span class="co">#&gt; [76] 3.492868e+01 3.424606e+01 3.347371e+01 3.337143e+01 3.203001e+01</span></span>
<span><span class="co">#&gt; [81] 3.116473e+01 2.173520e+01 0.000000e+00</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">lt</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">CUMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span>, xlab <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    ylab <span class="op">=</span> <span class="st">""</span>, main <span class="op">=</span> <span class="st">"Mathematical reserve"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">lt</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">PUMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"p"</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">lt</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">IEAMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span>,</span>
<span>    type <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"p"</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="../reference/getOmega.html">getOmega</a></span><span class="op">(</span><span class="va">lt</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu">IEAMmr</span><span class="op">(</span><span class="va">lt</span>, <span class="va">x</span>, <span class="va">beta</span>, <span class="va">i</span>, <span class="va">j</span>, <span class="va">t</span>, <span class="va">k</span>, delta <span class="op">=</span> <span class="fl">0.03</span>,</span>
<span>    type <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"p"</span>, col <span class="op">=</span> <span class="st">"green"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CUM"</span>, <span class="st">"PUM"</span>, <span class="st">"IEAM (constant rate)"</span>, <span class="st">"IEAM (constant premium)"</span><span class="op">)</span>,</span>
<span>    col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span><span class="op">)</span>, pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<p><img src="pensionfunding_files/figure-html/calc2andshow-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Giorgio Alfredo Spedicato.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
